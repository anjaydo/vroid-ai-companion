<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infographic: D·ª± √°n VRoid AI Companion</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 450px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 350px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
                max-height: 400px;
            }
        }
        .flow-chart-item {
            border: 2px solid #4A5568; /* border-gray-700 */
            background-color: #2D3748; /* bg-gray-800 */
            padding: 1rem;
            border-radius: 0.5rem;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .flow-chart-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.2);
        }
        .arrow {
            font-size: 2.5rem;
            color: #4FD1C5; /* energetic & playful - teal */
            line-height: 1;
        }
        .gemini-response {
            white-space: pre-wrap;
        }
    </style>
</head>
<body class="bg-gray-900 text-white">
    <!-- Palette: Energetic & Playful -->
    <div class="container mx-auto p-4 md:p-8">

        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-6xl font-black text-transparent bg-clip-text bg-gradient-to-r from-[#FF8A5B] to-[#FF5454] mb-2">VRoid AI Companion</h1>
            <p class="text-lg md:text-xl text-gray-300">H√†nh tr√¨nh t·∫°o ra m·ªôt ng∆∞·ªùi b·∫°n ƒë·ªìng h√†nh AI s·ªëng ƒë·ªông</p>
        </header>

        <main class="space-y-16">
            <!-- Section 1: Project Goals -->
            <section class="text-center">
                <h2 class="text-3xl font-bold mb-8 text-[#4FD1C5]">üéØ M·ª•c ti√™u D·ª± √°n</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div class="bg-gray-800 p-6 rounded-lg shadow-xl border-t-4 border-[#FF8A5B]">
                        <div class="text-5xl mb-4">üß†</div>
                        <h3 class="text-xl font-bold mb-2">AI Th√¥ng minh</h3>
                        <p class="text-gray-400">X√¢y d·ª±ng m·ªôt AI c√≥ kh·∫£ nƒÉng tr√≤ chuy·ªán theo ng·ªØ c·∫£nh, ghi nh·ªõ l·ªãch s·ª≠ h·ªôi tho·∫°i ƒë·ªÉ t∆∞∆°ng t√°c t·ª± nhi√™n.</p>
                    </div>
                    <div class="bg-gray-800 p-6 rounded-lg shadow-xl border-t-4 border-[#FF5454]">
                        <div class="text-5xl mb-4">üíÉ</div>
                        <h3 class="text-xl font-bold mb-2">Tr·∫£i nghi·ªám S·ªëng ƒë·ªông</h3>
                        <p class="text-gray-400">T·∫°o ra nh√¢n v·∫≠t 3D v·ªõi animation v√† kh·∫£ nƒÉng ƒë·ªìng b·ªô h√≥a kh·∫©u h√¨nh (lip-sync) ch√¢n th·ª±c.</p>
                    </div>
                    <div class="bg-gray-800 p-6 rounded-lg shadow-xl border-t-4 border-[#4FD1C5]">
                        <div class="text-5xl mb-4">üöÄ</div>
                        <h3 class="text-xl font-bold mb-2">N·ªÅn t·∫£ng Hi·ªán ƒë·∫°i</h3>
                        <p class="text-gray-400">S·ª≠ d·ª•ng c√°c c√¥ng ngh·ªá web ti√™n ti·∫øn ƒë·ªÉ ƒë·∫£m b·∫£o hi·ªáu nƒÉng v√† kh·∫£ nƒÉng m·ªü r·ªông.</p>
                    </div>
                </div>
            </section>

            <!-- Section 2: Tech Stack -->
            <section>
                <h2 class="text-3xl font-bold text-center mb-8 text-[#FF8A5B]">‚öôÔ∏è C√¥ng ngh·ªá S·ª≠ d·ª•ng</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                    <div class="text-gray-300 space-y-4">
                        <p>D·ª± √°n ƒë∆∞·ª£c x√¢y d·ª±ng tr√™n ki·∫øn tr√∫c Client-Server, t·∫≠n d·ª•ng s·ª©c m·∫°nh c·ªßa c√°c c√¥ng ngh·ªá h√†ng ƒë·∫ßu trong ph√°t tri·ªÉn web hi·ªán ƒë·∫°i v√† ƒë·ªì h·ªça 3D.</p>
                        <ul class="list-disc list-inside space-y-2">
                            <li><strong class="text-[#4FD1C5]">Frontend:</strong> Next.js v√† React Three Fiber l√† tr√°i tim c·ªßa giao di·ªán, x·ª≠ l√Ω vi·ªác render nh√¢n v·∫≠t 3D v√† logic lip-sync.</li>
                            <li><strong class="text-[#FF5454]">Backend:</strong> FastAPI (Python) ƒë√≥ng vai tr√≤ b·ªô n√£o, k·∫øt n·ªëi v·ªõi c√°c d·ªãch v·ª• AI v√† qu·∫£n l√Ω d·ªØ li·ªáu.</li>
                            <li><strong class="text-[#FFD65C]">Database:</strong> Supabase cung c·∫•p m·ªôt gi·∫£i ph√°p l∆∞u tr·ªØ l·ªãch s·ª≠ h·ªôi tho·∫°i hi·ªáu qu·∫£ v√† an to√†n.</li>
                        </ul>
                    </div>
                    <div class="chart-container">
                        <canvas id="techStackChart"></canvas>
                    </div>
                </div>
            </section>
            
            <!-- Section 3: Text-to-Speech Evolution -->
            <section>
                <h2 class="text-3xl font-bold text-center mb-8 text-[#FF5454]">üó£Ô∏è H√†nh tr√¨nh N√¢ng c·∫•p Gi·ªçng n√≥i (TTS)</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                    <div class="chart-container">
                        <canvas id="ttsQualityChart"></canvas>
                    </div>
                     <div class="text-gray-300 space-y-4">
                        <h3 class="text-2xl font-bold text-[#FFD65C]">T·ª´ Robot ƒë·∫øn T·ª± nhi√™n</h3>
                        <p>Ch·∫•t l∆∞·ª£ng gi·ªçng n√≥i l√† y·∫øu t·ªë then ch·ªët ƒë·ªÉ t·∫°o ra m·ªôt AI c√≥ h·ªìn. Ch√∫ng t√¥i ƒë√£ b·∫Øt ƒë·∫ßu v·ªõi gi·∫£i ph√°p `gTTS` c∆° b·∫£n, nh∆∞ng nhanh ch√≥ng nh·∫≠n ra s·ª± thi·∫øu t·ª± nhi√™n c·ªßa n√≥.</p>
                        <p>Quy·∫øt ƒë·ªãnh n√¢ng c·∫•p l√™n API Text-to-Speech chuy√™n d·ª•ng c·ªßa <strong class="text-[#4FD1C5]">Google AI (Gemini TTS)</strong> ƒë√£ t·∫°o ra m·ªôt b∆∞·ªõc ƒë·ªôt ph√°, mang l·∫°i gi·ªçng n√≥i ch·∫•t l∆∞·ª£ng cao, c√≥ c·∫£m x√∫c v√† ƒëa d·∫°ng, gi√∫p tr·∫£i nghi·ªám tr√≤ chuy·ªán tr·ªü n√™n ch√¢n th·ª±c h∆°n r·∫•t nhi·ªÅu.</p>
                    </div>
                </div>
            </section>

            <!-- Section 4: Lip Sync Process -->
            <section>
                <h2 class="text-3xl font-bold text-center mb-12 text-[#4FD1C5]">üëÑ Quy tr√¨nh Lip Sync Th·ª±c t·∫ø</h2>
                <div class="flex flex-col md:flex-row items-center justify-center gap-4 md:gap-0">
                    <div class="flow-chart-item w-full md:w-1/4">
                        <h3 class="text-xl font-bold text-[#FF8A5B]">B∆∞·ªõc 1</h3>
                        <p class="mt-2">Ph√¢n t√≠ch √Çm thanh (FFT) b·∫±ng Web Audio API</p>
                    </div>
                    <div class="arrow mx-4 hidden md:block">‚Üí</div>
                    <div class="arrow my-4 md:hidden">‚Üì</div>
                    <div class="flow-chart-item w-full md:w-1/4">
                        <h3 class="text-xl font-bold text-[#FF5454]">B∆∞·ªõc 2</h3>
                        <p class="mt-2">√Ånh x·∫° T·∫ßn s·ªë sang c√°c Viseme (a, o, i...)</p>
                    </div>
                    <div class="arrow mx-4 hidden md:block">‚Üí</div>
                     <div class="arrow my-4 md:hidden">‚Üì</div>
                    <div class="flow-chart-item w-full md:w-1/4">
                        <h3 class="text-xl font-bold text-[#FFD65C]">B∆∞·ªõc 3</h3>
                        <p class="mt-2">ƒêi·ªÅu khi·ªÉn Blendshapes c·ªßa m√¥ h√¨nh VRM</p>
                    </div>
                </div>
                 <p class="text-center mt-8 max-w-3xl mx-auto text-gray-400">To√†n b·ªô qu√° tr√¨nh ph·ª©c t·∫°p n√†y ƒë∆∞·ª£c th·ª±c hi·ªán ho√†n to√†n tr√™n tr√¨nh duy·ªát c·ªßa ng∆∞·ªùi d√πng, gi√∫p gi·∫£m ƒë·ªô tr·ªÖ xu·ªëng m·ª©c t·ªëi thi·ªÉu v√† t·∫°o ra ph·∫£n ·ª©ng nh√©p mi·ªáng g·∫ßn nh∆∞ t·ª©c th√¨.</p>
            </section>
            
             <!-- Section 5: Future Improvements -->
            <section class="text-center">
                <h2 class="text-3xl font-bold mb-8 text-[#FFD65C]">üöÄ H∆∞·ªõng ph√°t tri·ªÉn T∆∞∆°ng lai</h2>
                <div class="max-w-4xl mx-auto grid grid-cols-2 md:grid-cols-3 gap-6">
                    <div class="bg-gray-800 p-4 rounded-lg shadow-lg text-center">
                        <p class="text-3xl mb-2">üë§</p>
                        <p>X√°c th·ª±c Ng∆∞·ªùi d√πng</p>
                    </div>
                     <div class="bg-gray-800 p-4 rounded-lg shadow-lg text-center">
                        <p class="text-3xl mb-2">üé≠</p>
                        <p>Animation theo C·∫£m x√∫c</p>
                    </div>
                     <div class="bg-gray-800 p-4 rounded-lg shadow-lg text-center">
                        <p class="text-3xl mb-2">‚ö°</p>
                        <p>T·ªëi ∆∞u h√≥a Hi·ªáu nƒÉng</p>
                    </div>
                     <div class="bg-gray-800 p-4 rounded-lg shadow-lg text-center">
                        <p class="text-3xl mb-2">üé§</p>
                        <p>T∆∞∆°ng t√°c b·∫±ng Gi·ªçng n√≥i</p>
                    </div>
                     <div class="bg-gray-800 p-4 rounded-lg shadow-lg text-center">
                        <p class="text-3xl mb-2">üé®</p>
                        <p>C·∫£i thi·ªán UI/UX</p>
                    </div>
                     <div class="bg-gray-800 p-4 rounded-lg shadow-lg text-center">
                        <p class="text-3xl mb-2">üåç</p>
                        <p>H·ªó tr·ª£ ƒêa ng√¥n ng·ªØ</p>
                    </div>
                </div>
            </section>

        </main>
    </div>

    <script>
        const tooltipTitleCallback = (tooltipItems) => {
            const item = tooltipItems[0];
            let label = item.chart.data.labels[item.dataIndex];
            if (Array.isArray(label)) {
                return label.join(' ');
            }
            return label;
        };

        // Chart 1: Tech Stack Distribution
        const techStackCtx = document.getElementById('techStackChart').getContext('2d');
        new Chart(techStackCtx, {
            type: 'doughnut',
            data: {
                labels: ['Frontend (Next.js, R3F)', 'Backend (FastAPI, Python)', 'Database (Supabase)', 'AI Services (Google Gemini)'],
                datasets: [{
                    label: 'Ph√¢n b·ªï C√¥ng ngh·ªá',
                    data: [40, 30, 15, 15],
                    backgroundColor: ['#4FD1C5', '#FF8A5B', '#FFD65C', '#FF5454'],
                    borderColor: '#1A202C',
                    borderWidth: 4,
                    hoverOffset: 8
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            color: '#A0AEC0',
                            font: { size: 12 }
                        }
                    },
                    tooltip: {
                        callbacks: { title: tooltipTitleCallback }
                    }
                },
                cutout: '60%'
            }
        });

        // Chart 2: TTS Quality Comparison
        const ttsQualityCtx = document.getElementById('ttsQualityChart').getContext('2d');
        new Chart(ttsQualityCtx, {
            type: 'bar',
            data: {
                labels: ['T·ªëc ƒë·ªô', 'ƒê·ªô t·ª± nhi√™n', 'ƒêa d·∫°ng Gi·ªçng n√≥i', 'Chi ph√≠'],
                datasets: [
                    {
                        label: 'gTTS (Gi·∫£i ph√°p ban ƒë·∫ßu)',
                        data: [90, 30, 20, 100],
                        backgroundColor: '#FF8A5B',
                        borderRadius: 6
                    },
                    {
                        label: 'Google AI TTS (Gi·∫£i ph√°p n√¢ng cao)',
                        data: [75, 95, 90, 60],
                        backgroundColor: '#4FD1C5',
                        borderRadius: 6
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                indexAxis: 'y',
                scales: {
                    x: {
                        beginAtZero: true,
                        max: 100,
                        grid: { color: '#2D3748' },
                        ticks: { color: '#A0AEC0' }
                    },
                    y: {
                        grid: { display: false },
                        ticks: { color: '#A0AEC0' }
                    }
                },
                plugins: {
                    legend: {
                        position: 'top',
                        labels: { color: '#A0AEC0' }
                    },
                    tooltip: {
                        callbacks: { title: tooltipTitleCallback }
                    }
                }
            }
        });

        // Gemini API Integration Logic
        const geminiForm = document.getElementById('gemini-form');
        const geminiPromptInput = document.getElementById('gemini-prompt');
        const geminiSubmitButton = document.getElementById('gemini-submit');
        const geminiResponseContainer = document.getElementById('gemini-response-container');
        
        const API_KEY = ""; // NOTE: For security, API keys should not be exposed client-side in a real app.
                               // This is for demonstration purposes only.
        const API_URL = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${API_KEY}`;
        
        const projectContext = `
            B·∫°n l√† m·ªôt AI tr·ª£ l√Ω cho d·ª± √°n 'VRoid AI Companion'. Nhi·ªám v·ª• c·ªßa b·∫°n l√† tr·∫£ l·ªùi c√°c c√¢u h·ªèi v·ªÅ d·ª± √°n d·ª±a tr√™n th√¥ng tin sau ƒë√¢y. H√£y tr·∫£ l·ªùi m·ªôt c√°ch h·ªØu √≠ch, s√∫c t√≠ch v√† ch·ªâ trong ph·∫°m vi th√¥ng tin ƒë∆∞·ª£c cung c·∫•p.

            Th√¥ng tin d·ª± √°n:
            - T√™n d·ª± √°n: VRoid AI Companion
            - M·ª•c ti√™u: T·∫°o ra m·ªôt ng∆∞·ªùi b·∫°n ƒë·ªìng h√†nh AI t∆∞∆°ng t√°c d∆∞·ªõi d·∫°ng avatar 3D. C√°c t√≠nh nƒÉng ch√≠nh bao g·ªìm tr√≤ chuy·ªán th√¥ng minh, nh·∫≠n bi·∫øt ng·ªØ c·∫£nh v√† ƒë·ªìng b·ªô h√≥a kh·∫©u h√¨nh (lip-sync) theo √¢m thanh m·ªôt c√°ch ch√¢n th·ª±c.
            - C√¥ng ngh·ªá s·ª≠ d·ª•ng:
              - Frontend: Next.js, React Three Fiber ƒë·ªÉ render 3D, @pixiv/three-vrm ƒë·ªÉ ƒëi·ªÅu khi·ªÉn avatar.
              - Backend: FastAPI (Python), Google Gemini cho vi·ªác tr√≤ chuy·ªán v√† t·∫°o gi·ªçng n√≥i (TTS) ch·∫•t l∆∞·ª£ng cao.
              - Database: Supabase ƒë·ªÉ l∆∞u tr·ªØ l·ªãch s·ª≠ h·ªôi tho·∫°i.
            - Th√°ch th·ª©c & Gi·∫£i ph√°p (TTS): ƒê√£ n√¢ng c·∫•p t·ª´ gTTS ch·∫•t l∆∞·ª£ng th·∫•p l√™n Gemini TTS ch·∫•t l∆∞·ª£ng cao ƒë·ªÉ c√≥ gi·ªçng n√≥i t·ª± nhi√™n.
            - Th√°ch th·ª©c & Gi·∫£i ph√°p (Lip Sync): ƒê√£ tri·ªÉn khai c∆° ch·∫ø lip-sync th·ªùi gian th·ª±c ph√≠a client b·∫±ng Web Audio API ƒë·ªÉ ph√¢n t√≠ch t·∫ßn s·ªë √¢m thanh (FFT) v√† √°nh x·∫° ch√∫ng v√†o blendshapes c·ªßa avatar VRM. ƒêi·ªÅu n√†y cho ph·∫£n h·ªìi t·ª©c th√¨ m√† kh√¥ng c·∫ßn ch·ªù server.
            - K·∫ø ho·∫°ch t∆∞∆°ng lai: X√°c th·ª±c ng∆∞·ªùi d√πng, animation theo c·∫£m x√∫c, t·ªëi ∆∞u h√≥a hi·ªáu nƒÉng v√† cho ph√©p t∆∞∆°ng t√°c b·∫±ng gi·ªçng n√≥i.
        `;

        geminiForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const userPrompt = geminiPromptInput.value.trim();
            if (!userPrompt || API_KEY === "") {
                geminiResponseContainer.textContent = API_KEY === "" 
                    ? "Vui l√≤ng th√™m API Key c·ªßa b·∫°n v√†o trong code ƒë·ªÉ s·ª≠ d·ª•ng t√≠nh nƒÉng n√†y."
                    : "Vui l√≤ng nh·∫≠p c√¢u h·ªèi c·ªßa b·∫°n.";
                return;
            }

            geminiSubmitButton.disabled = true;
            geminiResponseContainer.textContent = 'AI ƒëang suy nghƒ©...';

            const fullPrompt = `${projectContext}\n\nB√¢y gi·ªù, h√£y tr·∫£ l·ªùi c√¢u h·ªèi c·ªßa ng∆∞·ªùi d√πng sau: "${userPrompt}"`;
            
            try {
                const response = await fetch(API_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{ text: fullPrompt }]
                        }]
                    })
                });

                if (!response.ok) {
                    throw new Error(`API Error: ${response.statusText}`);
                }

                const data = await response.json();
                const aiResponse = data.candidates[0].content.parts[0].text;
                geminiResponseContainer.textContent = aiResponse;

            } catch (error) {
                console.error('L·ªói khi g·ªçi Gemini API:', error);
                geminiResponseContainer.textContent = 'Xin l·ªói, ƒë√£ c√≥ l·ªói x·∫£y ra. Vui l√≤ng th·ª≠ l·∫°i sau.';
            } finally {
                geminiSubmitButton.disabled = false;
            }
        });

    </script>
</body>
</html>

